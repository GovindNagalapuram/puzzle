(this.webpackJsonppuzzle=this.webpackJsonppuzzle||[]).push([[0],{13:function(e,a,t){},14:function(e,a,t){},15:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t.n(r),n=t(2),s=t.n(n),l=(t(13),t(3)),v=t(4),d=t(6),i=t(5),m=t(7),c=function(e){var a=e.blockValue,t="cell",r=0===a?"":a;return r&&(t+=" color-".concat(r)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:t},o.a.createElement("div",{className:"number"},r)))},u=function(e){var a=e.row;return o.a.createElement("div",{className:"game_row"},a.map((function(e,a){return o.a.createElement(c,{key:a,blockValue:e})})))},f=function(e){function a(){var e,t;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Object(d.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(o)))).state={board:null,gameOver:!1,message:null},t.startBoard=function(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];e=t.placeRandom(e),t.setState({board:e,gameOver:!1,message:null})},t.getBlankCoordinates=function(e){for(var a=[],t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)0===e[t][r]&&a.push([t,r]);return a},t.randomStartingNumber=function(){var e=[2];return e[Math.floor(Math.random()*e.length)]},t.placeRandom=function(e){var a=t.getBlankCoordinates(e),r=a[Math.floor(Math.random()*a.length)],o=t.randomStartingNumber();return e[r[0]][r[1]]=o,e},t.boardMoved=function(e,a){return JSON.stringify(a)!==JSON.stringify(e)},t.move=function(e){if(t.state.gameOver)t.setState({message:"Game over. Please start a new game."});else if("up"===e){var a=t.moveUp(t.state.board);if(t.boardMoved(t.state.board,a.board)){var r=t.placeRandom(a.board);t.onGameOver(r)?t.setState({board:r,gameOver:!0,message:"Game over!"}):t.setState({board:r})}}else if("right"===e){var o=t.moveRight(t.state.board);if(t.boardMoved(t.state.board,o.board)){var n=t.placeRandom(o.board);t.onGameOver(n)?t.setState({board:n,gameOver:!0,message:"Game over!"}):t.setState({board:n})}}else if("down"===e){var s=t.moveDown(t.state.board);if(t.boardMoved(t.state.board,s.board)){var l=t.placeRandom(s.board);t.onGameOver(l)?t.setState({board:l,gameOver:!0,message:"Game over!"}):t.setState({board:l})}}else if("left"===e){var v=t.moveLeft(t.state.board);if(t.boardMoved(t.state.board,v.board)){var d=t.placeRandom(v.board);t.onGameOver(d)?t.setState({board:d,gameOver:!0,message:"Game over!"}):t.setState({board:d})}}},t.moveUp=function(e){for(var a=t.rotateRight(e),r=[],o=0;o<a.length;o++){for(var n=[],s=0;s<a[o].length;s++){var l=a[o][s];0===l?n.unshift(l):n.push(l)}r.push(n)}for(var v=0;v<r.length;v++)for(var d=r[v].length-1;d>=0;d--)r[v][d]>0&&r[v][d]===r[v][d-1]?(r[v][d]=2*r[v][d],r[v][d-1]=0):0===r[v][d]&&r[v][d-1]>0&&(r[v][d]=r[v][d-1],r[v][d-1]=0);return{board:r=t.rotateLeft(r)}},t.moveDown=function(e){for(var a=t.rotateRight(e),r=[],o=0;o<a.length;o++){for(var n=[],s=a[o].length-1;s>=0;s--){var l=a[o][s];0===l?n.push(l):n.unshift(l)}r.push(n)}for(var v=0;v<r.length;v++)for(var d=0;d<r.length;d++)r[v][d]>0&&r[v][d]===r[v][d+1]?(r[v][d]=2*r[v][d],r[v][d+1]=0):0===r[v][d]&&r[v][d+1]>0&&(r[v][d]=r[v][d+1],r[v][d+1]=0);return{board:r=t.rotateLeft(r)}},t.moveRight=function(e){for(var a=[],t=0;t<e.length;t++){for(var r=[],o=0;o<e[t].length;o++){var n=e[t][o];0===n?r.unshift(n):r.push(n)}a.push(r)}for(var s=0;s<a.length;s++)for(var l=a[s].length-1;l>=0;l--)a[s][l]>0&&a[s][l]===a[s][l-1]?(a[s][l]=2*a[s][l],a[s][l-1]=0):0===a[s][l]&&a[s][l-1]>0&&(a[s][l]=a[s][l-1],a[s][l-1]=0);return{board:a}},t.moveLeft=function(e){for(var a=[],t=0;t<e.length;t++){for(var r=[],o=e[t].length-1;o>=0;o--){var n=e[t][o];0===n?r.push(n):r.unshift(n)}a.push(r)}for(var s=0;s<a.length;s++)for(var l=0;l<a.length;l++)a[s][l]>0&&a[s][l]===a[s][l+1]?(a[s][l]=2*a[s][l],a[s][l+1]=0):0===a[s][l]&&a[s][l+1]>0&&(a[s][l]=a[s][l+1],a[s][l+1]=0);return{board:a}},t.rotateRight=function(e){for(var a=[],t=0;t<e.length;t++){for(var r=[],o=e.length-1;o>=0;o--)r.push(e[o][t]);a.push(r)}return a},t.rotateLeft=function(e){for(var a=[],t=e.length-1;t>=0;t--){for(var r=[],o=e.length-1;o>=0;o--)r.unshift(e[o][t]);a.push(r)}return a},t.onGameOver=function(e){return![t.boardMoved(e,t.moveUp(e).board),t.boardMoved(e,t.moveRight(e).board),t.boardMoved(e,t.moveDown(e).board),t.boardMoved(e,t.moveLeft(e).board)].includes(!0)},t.onKeyPress=function(e){38===e.keyCode?t.move("up"):39===e.keyCode?t.move("right"):40===e.keyCode?t.move("down"):37===e.keyCode?t.move("left"):78===e.keyCode&&t.startBoard()},t}return Object(m.a)(a,e),Object(v.a)(a,[{key:"componentWillMount",value:function(){this.startBoard(),document.querySelector("body").addEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"game_board"},o.a.createElement("div",{className:"game_container"},this.state.board.map((function(e,a){return o.a.createElement(u,{key:a,row:e})})))),o.a.createElement("div",{className:"button",onClick:function(){e.startBoard()}},"New Game"),o.a.createElement("p",null,this.state.message))}}]),a}(r.Component);t(14);var h=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,a,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.41d70b2a.chunk.js.map