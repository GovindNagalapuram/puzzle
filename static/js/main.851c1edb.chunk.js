(this.webpackJsonppuzzle=this.webpackJsonppuzzle||[]).push([[0],{13:function(e,a,t){},14:function(e,a,t){},15:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t.n(r),n=t(2),s=t.n(n),c=(t(13),t(3)),l=t(4),v=t(6),d=t(5),i=t(7),m=function(e){var a=e.blockValue,t="cell",r=0===a?"":a;return r&&(t+=" color-".concat(r)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:t},o.a.createElement("div",{className:"number"},r)))},u=function(e){var a=e.row;return o.a.createElement("div",{className:"game_row"},a.map((function(e,a){return o.a.createElement(m,{key:a,blockValue:e})})))},f=function(e){function a(){var e,t;Object(c.a)(this,a);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Object(v.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={board:null,score:0,gameOver:!1,message:null},t.startBoard=function(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];e=t.placeRandom(e),t.setState({board:e,score:0,gameOver:!1,message:null})},t.getBlankCoordinates=function(e){for(var a=[],t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)0===e[t][r]&&a.push([t,r]);return a},t.randomStartingNumber=function(){var e=[2];return e[Math.floor(Math.random()*e.length)]},t.placeRandom=function(e){var a=t.getBlankCoordinates(e),r=a[Math.floor(Math.random()*a.length)],o=t.randomStartingNumber();return e[r[0]][r[1]]=o,e},t.boardMoved=function(e,a){return JSON.stringify(a)!==JSON.stringify(e)},t.move=function(e){if(t.state.gameOver)t.setState({message:"Game over. Please start a new game."});else if("up"===e){var a=t.moveUp(t.state.board);if(t.boardMoved(t.state.board,a.board)){var r=t.placeRandom(a.board);t.onGameOver(r)?t.setState({board:r,gameOver:!0,message:"Game over!"}):t.setState({board:r,score:t.state.score+=a.score})}}else if("right"===e){var o=t.moveRight(t.state.board);if(t.boardMoved(t.state.board,o.board)){var n=t.placeRandom(o.board);t.onGameOver(n)?t.setState({board:n,gameOver:!0,message:"Game over!"}):t.setState({board:n,score:t.state.score+=o.score})}}else if("down"===e){var s=t.moveDown(t.state.board);if(t.boardMoved(t.state.board,s.board)){var c=t.placeRandom(s.board);t.onGameOver(c)?t.setState({board:c,gameOver:!0,message:"Game over!"}):t.setState({board:c,score:t.state.score+=s.score})}}else if("left"===e){var l=t.moveLeft(t.state.board);if(t.boardMoved(t.state.board,l.board)){var v=t.placeRandom(l.board);t.onGameOver(v)?t.setState({board:v,gameOver:!0,message:"Game over!"}):t.setState({board:v,score:t.state.score+=l.score})}}},t.moveUp=function(e){for(var a=t.rotateRight(e),r=[],o=0,n=0;n<a.length;n++){for(var s=[],c=0;c<a[n].length;c++){var l=a[n][c];0===l?s.unshift(l):s.push(l)}r.push(s)}for(var v=0;v<r.length;v++)for(var d=r[v].length-1;d>=0;d--)r[v][d]>0&&r[v][d]===r[v][d-1]?(r[v][d]=2*r[v][d],r[v][d-1]=0,o+=r[v][d]):0===r[v][d]&&r[v][d-1]>0&&(r[v][d]=r[v][d-1],r[v][d-1]=0);return{board:r=t.rotateLeft(r),score:o}},t.moveDown=function(e){for(var a=t.rotateRight(e),r=[],o=0,n=0;n<a.length;n++){for(var s=[],c=a[n].length-1;c>=0;c--){var l=a[n][c];0===l?s.push(l):s.unshift(l)}r.push(s)}for(var v=0;v<r.length;v++)for(var d=0;d<r.length;d++)r[v][d]>0&&r[v][d]===r[v][d+1]?(r[v][d]=2*r[v][d],r[v][d+1]=0,o+=r[v][d]):0===r[v][d]&&r[v][d+1]>0&&(r[v][d]=r[v][d+1],r[v][d+1]=0);return{board:r=t.rotateLeft(r),score:o}},t.moveRight=function(e){for(var a=[],t=0,r=0;r<e.length;r++){for(var o=[],n=0;n<e[r].length;n++){var s=e[r][n];0===s?o.unshift(s):o.push(s)}a.push(o)}for(var c=0;c<a.length;c++)for(var l=a[c].length-1;l>=0;l--)a[c][l]>0&&a[c][l]===a[c][l-1]?(a[c][l]=2*a[c][l],a[c][l-1]=0,t+=a[c][l]):0===a[c][l]&&a[c][l-1]>0&&(a[c][l]=a[c][l-1],a[c][l-1]=0);return{board:a,score:t}},t.moveLeft=function(e){for(var a=[],t=0,r=0;r<e.length;r++){for(var o=[],n=e[r].length-1;n>=0;n--){var s=e[r][n];0===s?o.push(s):o.unshift(s)}a.push(o)}for(var c=0;c<a.length;c++)for(var l=0;l<a.length;l++)a[c][l]>0&&a[c][l]===a[c][l+1]?(a[c][l]=2*a[c][l],a[c][l+1]=0,t+=a[c][l]):0===a[c][l]&&a[c][l+1]>0&&(a[c][l]=a[c][l+1],a[c][l+1]=0);return{board:a,score:t}},t.rotateRight=function(e){for(var a=[],t=0;t<e.length;t++){for(var r=[],o=e.length-1;o>=0;o--)r.push(e[o][t]);a.push(r)}return a},t.rotateLeft=function(e){for(var a=[],t=e.length-1;t>=0;t--){for(var r=[],o=e.length-1;o>=0;o--)r.unshift(e[o][t]);a.push(r)}return a},t.onGameOver=function(e){return![t.boardMoved(e,t.moveUp(e).board),t.boardMoved(e,t.moveRight(e).board),t.boardMoved(e,t.moveDown(e).board),t.boardMoved(e,t.moveLeft(e).board)].includes(!0)},t.onKeyPress=function(e){38===e.keyCode?t.move("up"):39===e.keyCode?t.move("right"):40===e.keyCode?t.move("down"):37===e.keyCode?t.move("left"):78===e.keyCode&&t.startBoard()},t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"componentWillMount",value:function(){this.startBoard(),document.querySelector("body").addEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"score"},"Score: ",this.state.score),o.a.createElement("div",{className:"game_board"},o.a.createElement("div",{className:"game_container"},this.state.board.map((function(e,a){return o.a.createElement(u,{key:a,row:e})})))),o.a.createElement("div",{className:"button",onClick:function(){e.startBoard()}},"New Game"),o.a.createElement("p",null,this.state.message))}}]),a}(r.Component);t(14);var h=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,a,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.851c1edb.chunk.js.map